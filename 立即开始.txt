┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃  🚀 FCPDExtractor 立即开始指南                               ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

❗ 重要提示：TypeError 错误已修复！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

如果你之前遇到 "TypeError: got an unexpected keyword argument 'model_name'"
错误，现在已经修复。请按照下面的步骤操作。

🔥 解决方法（3选1）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【方法1】重新运行 Cell 7 ⭐ 最简单
  
  1️⃣  在 Notebook 中找到 Cell 7（标题：模型配置 - 分阶段自定义）
  2️⃣  点击运行该单元格
  3️⃣  等待看到这些提示：
      ✅ Unified_Text_Processor 模块已重载
      ✅ 函数已更新为最新版本，支持自定义模型
  4️⃣  直接运行步骤4（Cell 24）

【方法2】运行 Cell 27 手动重载

  1️⃣  找到 Cell 27（在步骤5之前，标题可能是空的）
  2️⃣  运行该单元格
  3️⃣  等待看到 "✅ 模块已重载" 提示
  4️⃣  继续运行步骤4

【方法3】重启 Kernel ⭐ 最可靠

  1️⃣  点击菜单栏 Kernel → Restart Kernel
  2️⃣  按顺序运行以下单元格：
      - Cell 2  (导入模块)
      - Cell 5  (配置路径)
      - Cell 7  (模型配置) ← 会自动重载模块
      - Cell 9  (步骤1: PDF转文本) [可选，如果已有结果可跳过]
      - Cell 13 (步骤2: 预处理)    [可选，如果已有结果可跳过]
      - Cell 20 (步骤3: 嵌入相似度) [可选，如果已有结果可跳过]
      - Cell 24 (步骤4: LLM过滤)
      - Cell 29 (步骤5: 抽象和总结)

📌 完整的从头运行流程
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Step 1: 打开 Notebook
  • 文件：OSSExtractor_Debug.ipynb

Step 2: 导入模块
  • 运行 Cell 2
  • 等待 "✅ 所有模块导入成功！"

Step 3: 配置文件路径
  • 在 Cell 5 中设置 PDF 文件路径
  • 运行 Cell 5

Step 4: 配置模型（新功能！）
  • 在 Cell 7 中选择你要使用的模型
  • 运行 Cell 7
  • 等待看到模块重载成功提示

Step 5: 处理 PDF
  • 运行步骤1-5（Cell 9, 13, 20, 24, 29）
  • 每个步骤都会显示进度

🎛️ 模型配置示例
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

在 Cell 7 中修改：

# 【方案A：速度优先】
MODEL_FILTER = 'nous-hermes-llama2-13b.Q4_0.gguf'
MODEL_ABSTRACT = 'nous-hermes-llama2-13b.Q4_0.gguf'
MODEL_SUMMARIZE = 'nous-hermes-llama2-13b.Q4_0.gguf'

# 【方案B：质量优先】
MODEL_FILTER = 'nous-hermes-llama2-13b.Q4_0.gguf'
MODEL_ABSTRACT = 'nous-hermes-llama2-13b.Q4_0.gguf'
MODEL_SUMMARIZE = 'gpt-oss-20b-Q4_K_M.gguf'

# 【方案C：平衡模式】⭐ 推荐
MODEL_FILTER = 'nous-hermes-llama2-13b.Q4_0.gguf'
MODEL_ABSTRACT = 'nous-hermes-llama2-13b.Q4_0.gguf'
MODEL_SUMMARIZE = 'meta-llama-3.1-8b-instruct-q4_k_m-2.gguf'

修改后，运行 Cell 7，配置立即生效！

✅ 验证配置生效
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

运行 Cell 7 后应该看到：

============================================================
🎛️  当前模型配置
============================================================
📌 步骤4 (内容过滤):  nous-hermes-llama2-13b.Q4_0.gguf
📌 步骤5 (文本抽象):  nous-hermes-llama2-13b.Q4_0.gguf
📌 步骤5 (参数总结):  gpt-oss-20b-Q4_K_M.gguf (严格模式: True)
📌 相似度Top-N:      10 个段落
============================================================

🔄 正在重载模块以应用新配置...
✅ Unified_Text_Processor 模块已重载
✅ 函数已更新为最新版本，支持自定义模型
============================================================

运行步骤4时应该看到：

🚀 步骤 4/5: LLM内容过滤...
==================================================
📌 使用模型: nous-hermes-llama2-13b.Q4_0.gguf

⚠️ 如果还有问题
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 查看《故障排查指南.txt》
2. 尝试重启 Jupyter Kernel
3. 确保模型文件在 models/ 目录下
4. 检查系统内存是否充足

📚 更多文档
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

• 修复说明.txt          - 本次修复的详细说明
• 故障排查指南.txt      - 常见问题和解决方法
• 模型配置使用指南.txt  - 功能详细说明
• 快速参考.txt          - 一页纸参考卡片
• MODEL_CONFIG_GUIDE.md - 完整英文文档

🎉 现在开始吧！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

打开 OSSExtractor_Debug.ipynb，运行 Cell 7，然后继续你的提取工作！

如有问题，随时查看文档或重启 Kernel。

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
